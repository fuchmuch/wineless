{"ast":null,"code":"var _jsxFileName = \"/Users/g/ga_seir/unit4/wineless/client/src/components/StoresDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom'; // import { Rating } from 'react-simple-star-rating';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function StoreDetails() {\n  _s();\n\n  const [selectedStore, setSelectedStore] = useState(null);\n  const [stores, setStores] = useState([]);\n  const [id, setId] = useState('');\n  let {\n    name\n  } = useParams();\n\n  const getId = stores => {\n    for (let i = 0; i < stores.length; i++) {\n      const s = stores[i];\n      let convertedName = s.name.split(\" \").join('-').toLowerCase();\n\n      if (name === convertedName) {\n        console.log('sucsess');\n        setId(s._id);\n      }\n    }\n  };\n\n  const getStores = async () => {\n    const res = await axios.get(`http://localhost:8000/stores`);\n    setStores(res.data);\n    getId(res.data);\n  };\n\n  const getStore = async () => {\n    console.log('this is get store function>>>>', id);\n    const res = await axios.get(`http://localhost:8000/stores/${id}`);\n    setSelectedStore(res.data);\n  };\n\n  const deleteStores = async storeId => {\n    console.log(`this is line 35 ${storeId}`);\n    const res = await axios.delete(`http://localhost:8000/stores/${storeId}`);\n    deleteStores(res.data);\n  };\n\n  useEffect(() => {\n    getStores();\n    return () => {};\n  }, []);\n  useEffect(() => {\n    if (id) getStore();\n    return () => {};\n  }, [id]);\n  return selectedStore ? /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"imagetitle\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: selectedStore.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: selectedStore.photo_url\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"store-info\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pcontainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"p1\",\n          children: selectedStore.address\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"p2\",\n          children: selectedStore.type\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"p4\",\n          children: selectedStore.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), \")\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this) : null;\n}\n\n_s(StoreDetails, \"3XNh8mgsAyIPUo5HS86V4d709OI=\", false, function () {\n  return [useParams];\n});\n\n_c = StoreDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"StoreDetails\");","map":{"version":3,"sources":["/Users/g/ga_seir/unit4/wineless/client/src/components/StoresDetails.js"],"names":["React","useEffect","useState","axios","useParams","StoreDetails","selectedStore","setSelectedStore","stores","setStores","id","setId","name","getId","i","length","s","convertedName","split","join","toLowerCase","console","log","_id","getStores","res","get","data","getStore","deleteStores","storeId","delete","photo_url","address","type","description"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\n\n\n\n// import { Rating } from 'react-simple-star-rating';\n\n\nexport default function StoreDetails() {\n  const [selectedStore, setSelectedStore] = useState(null);\n  const [stores, setStores] = useState([]);\n  const [id, setId] = useState('')\n\n\n  let { name } = useParams()\n\n\n\n  const getId = (stores) => {\n    for (let i = 0; i < stores.length; i++) {\n      const s = stores[i];\n      let convertedName = s.name.split(\" \").join('-').toLowerCase()\n      if (name === convertedName) {\n        console.log('sucsess')\n        setId(s._id)\n      }\n    }\n  }\n  const getStores = async () => {\n    const res = await axios.get(`http://localhost:8000/stores`);\n    setStores(res.data);\n    getId(res.data)\n  };\n\n\n  const getStore = async () => {\n    console.log('this is get store function>>>>', id)\n    const res = await axios.get(\n      `http://localhost:8000/stores/${id}`\n    );\n    setSelectedStore(res.data);\n  };\n\n  const deleteStores = async (storeId) => {\n    console.log(`this is line 35 ${storeId}`);\n    const res = await axios.delete(`http://localhost:8000/stores/${storeId}`);\n    deleteStores(res.data)\n  };\n\n  useEffect(() => {\n    getStores();\n    return () => { }\n  }, [])\n\n  useEffect(() => {\n    if (id) getStore()\n    return () => { }\n  }, [id])\n\n  return selectedStore ? (\n    <div>\n      <div className='imagetitle'>\n        <h1>{selectedStore.name}</h1>\n        <img src={selectedStore.photo_url} />\n      </div>\n\n\n      <section className=\"store-info\">\n        <div className='pcontainer'>\n          <p className='p1'>{selectedStore.address}</p>\n          <p className='p2'>{selectedStore.type}</p>\n          <p className='p4'>{selectedStore.description}</p>\n\n        </div>\n      </section>\n\n\n      )\n    </div>\n  ) : null;\n}"]},"metadata":{},"sourceType":"module"}