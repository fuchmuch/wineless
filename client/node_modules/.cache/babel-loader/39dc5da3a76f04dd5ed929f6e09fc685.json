{"ast":null,"code":"var _jsxFileName = \"/Users/g/ga_seir/unit4/wineless/client/src/components/StoresDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom'; // import { Rating } from 'react-simple-star-rating';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function StoreDetails() {\n  _s();\n\n  const [store, setSelectedStore] = useState(null);\n  const [stores, setStores] = useState([]);\n  const [id, setId] = useState('');\n  let {\n    name\n  } = useParams();\n\n  const getId = stores => {\n    for (let i = 0; i < stores.length; i++) {\n      const s = stores[i];\n      let convertedName = s.name.split(\" \").join('-').toLowerCase();\n\n      if (name === convertedName) {\n        console.log('sucsess');\n        setId(s._id);\n      }\n    }\n  };\n\n  const getStores = async () => {\n    const res = await axios.get(`http://localhost:8000/stores`);\n    setStores(res.data);\n    getId(res.data);\n  };\n\n  const getStore = async () => {\n    console.log('this is get store function>>>>', id);\n    const res = await axios.get(`http://localhost:8000/stores/${id}`);\n    setSelectedStore(res.data);\n  };\n\n  const deleteStores = async storeId => {\n    console.log(`this is line 35 ${storeId}`);\n    const res = await axios.delete(`http://localhost:8000/stores/${storeId}`);\n    deleteStores(res.data);\n  };\n\n  useEffect(() => {\n    getStores();\n    return () => {};\n  }, []);\n  useEffect(() => {\n    if (id) getStore();\n    return () => {};\n  }, [id]);\n  if (!stores.length) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading..\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 30\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 10\n  }, this); // return {stores.map((store)=> {\n  // <div>\n  //   <div className='imagetitle'>\n  //     <h1>{store.name}</h1>\n  //     <img src={store.photo_url} />\n  //   </div>\n  //   <section className=\"store-info\">\n  //     <div className='pcontainer'>\n  //       <p className='p1'>{store.address}</p>\n  //       <p className='p2'>{store.type}</p>\n  //       <p className='p4'>{store.description}</p>\n  //     </div>\n  //   </section>\n  // })}\n  // </div>\n}\n\n_s(StoreDetails, \"vNq4AA6+7FM4l2cOXq+ZTXd9ZuM=\", false, function () {\n  return [useParams];\n});\n\n_c = StoreDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"StoreDetails\");","map":{"version":3,"sources":["/Users/g/ga_seir/unit4/wineless/client/src/components/StoresDetails.js"],"names":["React","useEffect","useState","axios","useParams","StoreDetails","store","setSelectedStore","stores","setStores","id","setId","name","getId","i","length","s","convertedName","split","join","toLowerCase","console","log","_id","getStores","res","get","data","getStore","deleteStores","storeId","delete"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,kBAA1B,C,CAIA;;;AAGA,eAAe,SAASC,YAAT,GAAwB;AAAA;;AACrC,QAAM,CAACC,KAAD,EAAQC,gBAAR,IAA4BL,QAAQ,CAAC,IAAD,CAA1C;AACA,QAAM,CAACM,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACQ,EAAD,EAAKC,KAAL,IAAcT,QAAQ,CAAC,EAAD,CAA5B;AAEA,MAAI;AAAEU,IAAAA;AAAF,MAAWR,SAAS,EAAxB;;AAGA,QAAMS,KAAK,GAAIL,MAAD,IAAY;AACxB,SAAK,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,MAAM,CAACO,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACtC,YAAME,CAAC,GAAGR,MAAM,CAACM,CAAD,CAAhB;AACA,UAAIG,aAAa,GAAGD,CAAC,CAACJ,IAAF,CAAOM,KAAP,CAAa,GAAb,EAAkBC,IAAlB,CAAuB,GAAvB,EAA4BC,WAA5B,EAApB;;AACA,UAAIR,IAAI,KAAKK,aAAb,EAA4B;AAC1BI,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAX,QAAAA,KAAK,CAACK,CAAC,CAACO,GAAH,CAAL;AACD;AACF;AACF,GATD;;AAWA,QAAMC,SAAS,GAAG,YAAY;AAC5B,UAAMC,GAAG,GAAG,MAAMtB,KAAK,CAACuB,GAAN,CAAW,8BAAX,CAAlB;AACAjB,IAAAA,SAAS,CAACgB,GAAG,CAACE,IAAL,CAAT;AACAd,IAAAA,KAAK,CAACY,GAAG,CAACE,IAAL,CAAL;AACD,GAJD;;AAOA,QAAMC,QAAQ,GAAG,YAAY;AAC3BP,IAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ,EAA8CZ,EAA9C;AACA,UAAMe,GAAG,GAAG,MAAMtB,KAAK,CAACuB,GAAN,CACf,gCAA+BhB,EAAG,EADnB,CAAlB;AAGAH,IAAAA,gBAAgB,CAACkB,GAAG,CAACE,IAAL,CAAhB;AACD,GAND;;AAQA,QAAME,YAAY,GAAG,MAAOC,OAAP,IAAmB;AACtCT,IAAAA,OAAO,CAACC,GAAR,CAAa,mBAAkBQ,OAAQ,EAAvC;AACA,UAAML,GAAG,GAAG,MAAMtB,KAAK,CAAC4B,MAAN,CAAc,gCAA+BD,OAAQ,EAArD,CAAlB;AACAD,IAAAA,YAAY,CAACJ,GAAG,CAACE,IAAL,CAAZ;AACD,GAJD;;AAMA1B,EAAAA,SAAS,CAAC,MAAM;AACduB,IAAAA,SAAS;AACT,WAAO,MAAM,CAAG,CAAhB;AACD,GAHQ,EAGN,EAHM,CAAT;AAKAvB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIS,EAAJ,EAAQkB,QAAQ;AAChB,WAAO,MAAM,CAAG,CAAhB;AACD,GAHQ,EAGN,CAAClB,EAAD,CAHM,CAAT;AAMA,MAAI,CAACF,MAAM,CAACO,MAAZ,EAAoB,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACpB,sBAAO;AAAA;AAAA;AAAA;AAAA,UAAP,CApDqC,CAwDrC;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACD;;GA1EuBV,Y;UAKPD,S;;;KALOC,Y","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\n\n\n\n// import { Rating } from 'react-simple-star-rating';\n\n\nexport default function StoreDetails() {\n  const [store, setSelectedStore] = useState(null);\n  const [stores, setStores] = useState([]);\n  const [id, setId] = useState('')\n\n  let { name } = useParams()\n\n\n  const getId = (stores) => {\n    for (let i = 0; i < stores.length; i++) {\n      const s = stores[i];\n      let convertedName = s.name.split(\" \").join('-').toLowerCase()\n      if (name === convertedName) {\n        console.log('sucsess')\n        setId(s._id)\n      }\n    }\n  }\n\n  const getStores = async () => {\n    const res = await axios.get(`http://localhost:8000/stores`);\n    setStores(res.data);\n    getId(res.data)\n  };\n\n\n  const getStore = async () => {\n    console.log('this is get store function>>>>', id)\n    const res = await axios.get(\n      `http://localhost:8000/stores/${id}`\n    );\n    setSelectedStore(res.data);\n  };\n\n  const deleteStores = async (storeId) => {\n    console.log(`this is line 35 ${storeId}`);\n    const res = await axios.delete(`http://localhost:8000/stores/${storeId}`);\n    deleteStores(res.data)\n  };\n\n  useEffect(() => {\n    getStores();\n    return () => { }\n  }, [])\n\n  useEffect(() => {\n    if (id) getStore()\n    return () => { }\n  }, [id])\n\n\n  if (!stores.length) return <div>Loading..</div>\n  return <div>\n\n  </div>\n\n  // return {stores.map((store)=> {\n  // <div>\n  //   <div className='imagetitle'>\n  //     <h1>{store.name}</h1>\n  //     <img src={store.photo_url} />\n  //   </div>\n\n\n  //   <section className=\"store-info\">\n  //     <div className='pcontainer'>\n  //       <p className='p1'>{store.address}</p>\n  //       <p className='p2'>{store.type}</p>\n  //       <p className='p4'>{store.description}</p>\n\n  //     </div>\n  //   </section>\n  // })}\n  // </div>\n}"]},"metadata":{},"sourceType":"module"}