{"ast":null,"code":"var _jsxFileName = \"/Users/g/ga_seir/unit4/wineless/client/src/components/Stores.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\nimport Booking from '../components/Booking'; // import { Rating } from 'react-simple-star-rating';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function StoreDetails() {\n  _s();\n\n  const [selectedStore, setSelectedStore] = useState(null);\n  const [stores, setStores] = useState([]);\n  const [id, setId] = useState('');\n  let {\n    name\n  } = useParams();\n  console.log({\n    id,\n    name,\n    places,\n    selectedStore\n  });\n\n  const getId = stores => {\n    for (let i = 0; i < stores.length; i++) {\n      const s = stores[i];\n      let convertedName = s.name.split(\" \").join('-').toLowerCase();\n\n      if (name === convertedName) {\n        console.log('sucsess');\n        setId(s._id);\n      }\n    }\n  };\n\n  const getStores = async () => {\n    const res = await axios.get(`http://localhost:8000/stores`);\n    setStores(res.data);\n    getId(res.data);\n  };\n\n  const getStore = async () => {\n    console.log('this is get place function>>>>', id);\n    const res = await axios.get(`http://localhost:8000/stores/${id}`);\n    setSelectedStore(res.data);\n  };\n\n  const deleteStores = async storeId => {\n    console.log(`this is line 35 ${storeId}`);\n    const res = await axios.delete(`http://localhost:8000/stores/${reviewId}`);\n    deleteReviews(res.data);\n  };\n\n  useEffect(() => {\n    getStores();\n    return () => {};\n  }, []);\n  useEffect(() => {\n    if (id) getStore();\n    return () => {};\n  }, [id]);\n  return selectedStore ? /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"imagetitle\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: selectedStore.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: selectedStore.photo_url\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"store-info\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pcontainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"p1\",\n          children: selectedStore.address\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"p2\",\n          children: selectedStore.type\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"p4\",\n          children: selectedPlace.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), \")\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this) : null;\n}\n\n_s(StoreDetails, \"3XNh8mgsAyIPUo5HS86V4d709OI=\", false, function () {\n  return [useParams];\n});\n\n_c = StoreDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"StoreDetails\");","map":{"version":3,"sources":["/Users/g/ga_seir/unit4/wineless/client/src/components/Stores.js"],"names":["React","useEffect","useState","axios","useParams","Booking","StoreDetails","selectedStore","setSelectedStore","stores","setStores","id","setId","name","console","log","places","getId","i","length","s","convertedName","split","join","toLowerCase","_id","getStores","res","get","data","getStore","deleteStores","storeId","delete","reviewId","deleteReviews","photo_url","address","type","selectedPlace","description"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\nimport Booking from '../components/Booking'\n\n\n// import { Rating } from 'react-simple-star-rating';\n\n\nexport default function StoreDetails() {\n  const [selectedStore, setSelectedStore] = useState(null);\n  const [stores, setStores] = useState([]);\n  const [id, setId]= useState('')\n\n  \n  let { name } = useParams()\n  console.log({id ,name,places,selectedStore});\n\n\n  const getId = (stores) =>{\n  for (let i = 0; i < stores.length; i++) {\n    const s = stores[i];\n  let convertedName = s.name.split(\" \").join('-').toLowerCase()\n    if (name ===convertedName){\n      console.log('sucsess')\n      setId(s._id)      \n    }\n  }\n  }\n  const getStores = async () => {\n    const res = await axios.get(`http://localhost:8000/stores`);\n    setStores(res.data);\n    getId(res.data)\n  };\n\n\n  const getStore = async () => {\n    console.log('this is get place function>>>>',id)\n    const res = await axios.get(\n      `http://localhost:8000/stores/${id}`\n    );\n    setSelectedStore(res.data);\n  };\n\n  const deleteStores = async (storeId) => {\n    console.log(`this is line 35 ${storeId}`);\n    const res = await axios.delete(`http://localhost:8000/stores/${reviewId}`);\n    deleteReviews(res.data)\n  };\n\n  useEffect(() => {\n    getStores();\n    return () => {}\n  }, [])\n\n  useEffect(() => {\n    if(id) getStore()\n    return () => {}\n  }, [id])\n  \n  return selectedStore ? (\n    <div>\n\n        <div className='imagetitle'>  \n        <h1>{selectedStore.name}</h1>\n        <img src={selectedStore.photo_url} />\n        </div>   \n  \n\n      <section className=\"store-info\">\n        <div className= 'pcontainer'>\n        <p className='p1'>{selectedStore.address}</p>\n        <p className='p2'>{selectedStore.type}</p>\n        <p className='p4'>{selectedPlace.description}</p>\n     \n        </div>\n      </section>\n   \n        \n      )\n    </div>\n  ) : null;\n}"]},"metadata":{},"sourceType":"module"}